unit UORM;

interface

uses
  System.SysUtils, System.Classes,
  FireDAC.Stan.Intf,
  FireDAC.Stan.Option, FireDAC.Stan.Error, FireDAC.UI.Intf, FireDAC.Phys.Intf,
  FireDAC.Stan.Def, FireDAC.Stan.Pool, FireDAC.Stan.Async, FireDAC.Phys,
  FireDAC.Phys.MSSQL, FireDAC.Phys.MSSQLDef, FireDAC.VCLUI.Wait,
  FireDAC.Stan.Param, FireDAC.DatS, FireDAC.DApt.Intf, FireDAC.DApt,
  FireDAC.Comp.DataSet, FireDAC.Comp.Client;

Type

  TCursoSQL = Class(TObject)

  Private
    FDQListagem: TFDQuery;
    FIdCurso: Integer;
    FCurso: String;
    idcursobd , cursobd : String;

    Function getIDCurso: Integer;
    Procedure setIDCurso(Value: Integer);

    Function getDescricao: String;
    Procedure setDescricao(Value: String);

  Protected

  Public
    Conexao: TFDConnection;
    Property IdCurso: Integer Read getIDCurso Write setIDCurso;
    Property Descricao: String Read getDescricao Write setDescricao;
    Procedure BdCall;
    Function Insert: Boolean;
    Function Delete: Boolean;

  end;

implementation

{ TCursoSQL }

procedure TCursoSQL.BdCall;
begin
  FDQListagem := TFDQuery.Create(nil);
  FDQListagem.Connection := Conexao;
  With FDQListagem.SQL Do
  Begin
  Add('select * from CursosCadastro');


  End;
   FDQListagem.ExecSQL;
   idcursobd := FDQListagem.FieldByName('IDCURSO').AsString;
  cursobd := FDQListagem.FieldByName('CURSO').AsString;


end;

function TCursoSQL.Delete: Boolean;
begin
  FDQListagem := TFDQuery.Create(nil);
  FDQListagem.Connection := Conexao;

  with FDQListagem.SQL do
  begin
    Clear;
    Add('delete from CursosCadastro where IdCurso = ''' + inttoStr(IdCurso)
      + ''' ;');
  end;
  FDQListagem.ExecSQL;

end;

function TCursoSQL.getDescricao: String;
begin
  Result := FCurso;

end;

function TCursoSQL.getIDCurso: Integer;
begin

  Result := FIdCurso;

end;

function TCursoSQL.Insert: Boolean;
begin
  FDQListagem := TFDQuery.Create(nil);
  FDQListagem.Connection := Conexao;

  with FDQListagem.SQL do
  begin
    Clear;
    Add('insert into CursosCadastro (IdCurso,Curso)');
    Add('values (''' + inttoStr(IdCurso) + ''',' + QuotedStr(Descricao) + ')');
  end;
  FDQListagem.ExecSQL;

end;

procedure TCursoSQL.setDescricao(Value: String);
begin
  FCurso := Value;

end;

procedure TCursoSQL.setIDCurso(Value: Integer);
begin

  FIdCurso := Value;

end;

end.
